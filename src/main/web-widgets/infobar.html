<!DOCTYPE html>
<html>
<head>
    <title>Persoo Infobar demo</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- jQuery + Twitter Bootstrap + Persoo Playground Navigations + etc -->
    <link href="../img/favicon.png" rel="icon" type="image/png">
    <link href="../../common/persoo-demo-all.css" rel="stylesheet" media="screen">
    <script src="../../common/persoo-demo-all.js" type="text/javascript"></script>
    <script src="../globalConfig.js" type="text/javascript"></script>

    <link href="style.css" rel="stylesheet" media="screen">

    <!-- persooSolutionStart -->
    <script type='text/javascript'>
        var persooConfig = {
            apikey: persooAccountID, // variable from globalConfig.js
            persooName: 'persoo',
            dataLayerName: 'dataLayer', // we recommend to share dataLayer with GTM to measure new events to all systems
            settings_tolerance: 2000,  // for loading persoo.js
            personalizations_tolerance: 2500,    // for showing personalizations
        };

        /*! Persoo js client 2015-03-16 */
        var persooLoader=function(a,b,c,d,e){var f=d.persooName,g='_persoo_hide_body';return{hideBody:
        function(){var b=a.createElement('style'),c='body{opacity:0 !important;filter:alpha(opacity=0)'
        +' !important;background:none !important;}',d=a.getElementsByTagName('head')[0];b.setAttribute(
        'id',g),b.setAttribute('type','text/css'),b.styleSheet?b.styleSheet.cssText=c:b.appendChild(
        a.createTextNode(c)),d.appendChild(b)},finish:function(){if(!c){c=!0;var b=a.getElementById(g);b&&
        b.parentNode.removeChild(b)}},loadScript:function(b){var c=a.createElement('script');c.src=b,c.type
        ='text/javascript',c.onerror=function(){persooLoader.finish()},a.getElementsByTagName('head')[0
        ].appendChild(c)},init:function(){b[f]=b[f]||function(){(b[f].q=b[f].q||[]).push([].slice.call(
        arguments))},b[f].l=1*new Date,b[f].apikey=d.apikey,b[f].dataLayerName=d.dataLayerName;var c=
        a.cookie.match('(^|; )'+e+'=([^;]*)'),g=location.search.match('[?&]'+e+'=([^&]*)'),h=g?g[1]:c?c[2]:
        'p';d.settings_tolerance>0&&(setTimeout(this.finish,d.settings_tolerance),this.hideBody());var i=(
        d.scriptsHostname||'http://scripts.persoo.cz/')+d.apikey+'/'+h;this.loadScript(i+'/actions.js'),
        this.loadScript(i+'/persoo.js')}}}(document,window,!1,persooConfig,'persooEnvironment');persooLoader.init();
    </script>
    <!-- persooSolutionEnd -->

</head>
<body>
    <div class="container-fluid">
        <div class="row-fluid">
            <div class="col-md-2" id="localNavigation">
                <!--Sidebar content-->
            </div>
            <div class="col-md-10 content">
                <!--Body content-->
                <h1>Infobar demo</h1>

                <p>This demonstrates Infobar widgets and their targeting possibilities in Persoo.
                </p>

                <div class="row-fluid col2">
                  <div class="col-md-6">
                    <div class="instructions">
                      <h2>Instructions</h2>
                      <ol>
                        <li>Click buttons to preview different Infobar variants.</li>
                        <li>Make the screen smaller (or simulate mobile device in your Chrome debug console) to see,
                            that <b>bottom infobar is great alternative to pop-ups on small screens.</b></li>
                        <li>Try to scroll the page to see the difference between "push content" vs "overlay content".</li>
                        <li>Call to action can either show CTA button or define CTA on whole widget/infobar.</li>
                      </ol>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="row-fluid preview">
                        <h2>Demo Infobars</h2>

                        <button id="b4b9f57e4e86400ea4fb836fa9a0e2ae" class="trigger-widget-demo" >Infobar (collect email + top + push html content)</button><br \>

                        <br \>
                        Following infobar is a great replacement of pop-ups for mobile devices with small screen witdh:
                        <button id="b790353176374ee9afa1930d299c8964" class="trigger-widget-demo" >Infobar (call to action + bottom + overlay html content)</button><br \>

                        <script>
                            function getReportInteractionToPersoo(widgetID) {
                                return function() {
                                    console.log('Sending data to Persoo to force show of widget with ID ' + widgetID);
                                    persoo('send', 'click', {widgetID: widgetID});
                                }
                            }

                            function activateListeners() {
                                var elems = document.querySelectorAll(".trigger-widget-demo");
                                for (var i = 0; i < elems.length; i++) {
                                    var elem = elems[i];
                                    var id = elem.id;
                                    elem.onclick = getReportInteractionToPersoo(id);
                                }
                            }

                            activateListeners();
                        </script>
                    </div>
                  </div>
                </div>

            </div>
        </div>
    </div>
    <footer id="footerElement">

    </footer>
</body>
</html>
